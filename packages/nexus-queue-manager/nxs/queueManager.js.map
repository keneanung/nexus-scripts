{"version":3,"file":"queueManager.js","mappings":"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","sources":["webpack://MiscPackages/./src/queueManager.ts","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/createClass.js","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://MiscPackages/./node_modules/@babel/runtime/helpers/typeof.js","webpack://MiscPackages/webpack/bootstrap","webpack://MiscPackages/./webpack/queuemanager.tsx"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueueManager = void 0;\nconst itemPropertiesEqual = (one, other) => {\n    const keys = Object.keys(one);\n    if (keys.length !== Object.keys(other).length) {\n        return false;\n    }\n    const castedKeys = Object.keys(one);\n    return castedKeys.every((key) => one[key] === other[key]);\n};\nconst customQueueTypeComponents = [\n    {\n        letter: 'e',\n        property: 'haveEq',\n    },\n    {\n        letter: 'b',\n        property: 'haveBalance',\n    },\n    {\n        letter: 'c',\n        property: 'haveClassBalance',\n    },\n    {\n        letter: 's',\n        property: 'haveShipBalance',\n    },\n    {\n        letter: 'p',\n        property: 'haveParalysis',\n    },\n    {\n        letter: 'w',\n        property: 'beBound',\n    },\n    {\n        letter: 'u',\n        property: 'beStanding',\n    },\n    {\n        letter: 't',\n        property: 'beStunned',\n    },\n];\nclass QueueManager {\n    queue = [];\n    track(command, queue) {\n        const itemProperties = this.parseQueue(queue);\n        this.queue.push({ command, properties: itemProperties });\n    }\n    parseQueue(queue) {\n        if (queue === 'equilibrium') {\n            queue = 'e';\n        }\n        if (queue === 'balance') {\n            queue = 'b';\n        }\n        if (queue === 'class') {\n            queue = 'c';\n        }\n        if (queue === 'paralysis') {\n            queue = '!p';\n        }\n        if (queue === 'unbound') {\n            queue = '!w';\n        }\n        if (queue === 'stun') {\n            queue = '!t';\n        }\n        if (queue === 'free') {\n            queue = 'be!p!t';\n        }\n        if (queue === 'freestand') {\n            queue = 'be!p!tu';\n        }\n        if (queue === 'full') {\n            queue = 'be!p!tuc';\n        }\n        const customProperties = {};\n        for (const queueType of customQueueTypeComponents) {\n            const index = queue.indexOf(queueType.letter);\n            if (index > -1) {\n                const queueTypeValue = index === 0 || queue.at(index - 1) !== '!';\n                customProperties[queueType.property] = queueTypeValue;\n            }\n        }\n        return customProperties;\n    }\n    getQueue = () => this.queue;\n    sync = (newCommands) => {\n        this.clear('all');\n        for (const { command, queue } of newCommands) {\n            this.track(command, queue);\n        }\n    };\n    clear = (queue) => {\n        if (queue === 'all') {\n            this.queue = [];\n            return;\n        }\n        const queueProps = this.parseQueue(queue);\n        for (let i = this.queue.length - 1; i >= 0; i--) {\n            if (itemPropertiesEqual(queueProps, this.queue[i].properties)) {\n                this.queue.splice(i, 1);\n            }\n        }\n    };\n}\nexports.QueueManager = QueueManager;\n/*\nCLEARQUEUE <queue>                      - Clear one of your queues.\nCLEARQUEUE ALL                          - Clear everything out of your queues.\nQUEUE LIST                              - List your current queue.\nQUEUE ADD <queue> <command>\n                                        - Add an item to the end of one of your\n                                          queues.\nQUEUE ADDCLEAR <queue> <command>\n                                        - Clear the specified queue and add an\n                                          item to the fresh queue.\nQUEUE ADDCLEARFULL <queue> <command>\n                                        - Clear the whole queue and add an item\n                                          to the fresh queue.\nQUEUE INSERT <queue> <index> <command>\n                                        - Add an item to a specific point in one\n                                          of your queues.\nQUEUE PREPEND <queue> <command>\n                                        - Add an item to the start of one of\n                                          your queues.\nQUEUE REPLACE <queue> <index> <command>\n                                        - Replace an item in one of your queues.\nQUEUE REMOVE <index>\n                                        - Remove an item from a queue.\nQUEUE CLEAR <queue>\n                                        - Same as CLEARQUEUE\n                                        */ \n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n// Webpack entrypoint.\n// Use this to do any browser specific initialization and export the module as global object.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst queueManager_1 = require(\"../src/queueManager\");\nconsole.log('loading Queue Manager version [AIV]{version}[/AIV]...');\nconst queueManager = new queueManager_1.QueueManager();\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nglobalThis.queueManager = queueManager;\nconsole.log('Queue Manager loaded');\nexports.default = queueManager_1.QueueManager;\n"],"names":["_interopRequireDefault","require","_classCallCheck2","_createClass2","Object","defineProperty","exports","value","QueueManager","itemPropertiesEqual","one","other","keys","length","every","key","customQueueTypeComponents","letter","property","_this","default","queue","getQueue","sync","newCommands","_ref","clear","command","track","queueProps","parseQueue","i","properties","splice","itemProperties","this","push","customProperties","queueType","index","indexOf","queueTypeValue","at","module","instance","Constructor","TypeError","__esModule","toPropertyKey","_defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","obj","_typeof","input","hint","prim","Symbol","toPrimitive","undefined","res","call","String","Number","arg","iterator","constructor","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","queueManager_1","console","log","queueManager","globalThis"],"sourceRoot":""}